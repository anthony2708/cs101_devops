---
title: NgÃ y 18 - SSH vÃ  MÃ¡y chá»§ Web
---

import { LinkCard, Steps } from '@astrojs/starlight/components';

_Xin chÃ o, nhÆ° váº­y lÃ  bÃ¢y giá» chÃºng ta sáº½ Ä‘áº¿n vá»›i ngÃ y thá»© 18 cá»§a hÃ nh trÃ¬nh. Äá»ƒ quáº£n lÃ½ sá»‘
lÆ°á»£ng lá»›n mÃ¡y chá»§ cháº¡y Linux, chÃºng ta cáº§n pháº£i cÃ³ má»™t giáº£i phÃ¡p an toÃ n vÃ  hiá»‡u quáº£. **SSH 
(Secure Shell)** chÃ­nh lÃ  lá»±a chá»n Ä‘Ã³ - vÃ  Ä‘Ã¢y lÃ  Ä‘á»‹a Ä‘iá»ƒm tiáº¿p theo cá»§a chÃºng ta._

**_Náº¿u báº¡n Ä‘Ã£ sáºµn sÃ ng thÃ¬ lÃªn Ä‘Æ°á»ng thÃ´i!!!_** ğŸš—  

## Giá»›i thiá»‡u Ä‘iá»ƒm Ä‘áº¿n SSH

_5 Ä‘iá»ƒm nháº¥n cá»§a vá»‹ trÃ­ nÃ y bao gá»“m:_

<Steps> 
1. _Shell (Vá») báº£o máº­t._
2. _Giao thá»©c máº¡ng (nÃ³i chÃ­nh xÃ¡c thÃ¬ Ä‘Ã¢y lÃ  má»™t dá»‹ch vá»¥ máº¡ng)._
3. _Cho phÃ©p giao tiáº¿p an toÃ n._
4. _CÃ³ thá»ƒ báº£o máº­t cho báº¥t ká»³ dá»‹ch vá»¥ máº¡ng nÃ o._
5. _ThÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng cho káº¿t ná»‘i dÃ²ng lá»‡nh tá»« xa._
</Steps>

_Khi chÃºng ta khá»Ÿi táº¡o mÃ´i trÆ°á»ng báº±ng Vagrant, SSH Ä‘Ã£ Ä‘Æ°á»£c cáº¥u hÃ¬nh sáºµn, do Ä‘Ã³ chÃºng ta chá»‰
viá»‡c cháº¡y cÃ¢u lá»‡nh ```vagrant ssh``` lÃ  Ä‘Ã£ káº¿t ná»‘i Ä‘Æ°á»£c vá»›i mÃ¡y áº£o rá»“i. Tuy nhiÃªn, trong
trÆ°á»ng há»£p mÃ¡y áº£o Ä‘Ã³ náº±m trÃªn cÃ¡c háº¡ táº§ng khÃ¡c mÃ  khÃ´ng cÃ¹ng há»‡ thá»‘ng máº¡ng vá»›i chÃºng ta, SSH
cho phÃ©p táº¡o ra má»™t **Ä‘Æ°á»ng háº§m káº¿t ná»‘i (tunnel) an toÃ n** giá»¯a mÃ¡y khÃ¡ch vÃ  mÃ¡y chá»§ Ä‘á»ƒ ngÄƒn 
cÃ¡c tÃ¡c nhÃ¢n xáº¥u can thiá»‡p vÃ o Ä‘Æ°á»ng truyá»n vÃ  gÃ¢y áº£nh hÆ°á»Ÿng Ä‘áº¿n chÃºng ta._

_SSH trÃªn má»—i mÃ¡y chá»§ luÃ´n Ä‘Æ°á»£c cháº¡y á»Ÿ **giao thá»©c TCP, cá»•ng sá»‘ 22**. ChÃºng ta cáº§n Ä‘Æ°á»£c cáº¥p mÃ£ 
khÃ³a hoáº·c thÃ´ng tin truy nháº­p trÆ°á»›c khi sá»­ dá»¥ng SSH Ä‘á»ƒ giao tiáº¿p vá»›i mÃ¡y chá»§._

### ThÃªm chÃºt Ä‘iá»ƒm nháº¥n...

ChÃºng ta thÃªm má»™t card máº¡ng vÃ o mÃ¡y áº£o Ä‘á»ƒ thá»­ sá»©c, báº±ng cÃ¡ch táº¯t mÃ¡y áº£o. Má»Ÿ cÃ i Ä‘áº·t cá»§a mÃ¡y áº£o
trong VirtualBox rá»“i chá»n Máº¡ng (Networking).

![bridge](../../../../assets/linux/bridge_adapter.png)

Khá»Ÿi Ä‘á»™ng láº¡i mÃ¡y áº£o. Cháº¡y cÃ¢u lá»‡nh sau Ä‘á»ƒ kiá»ƒm tra sá»± tá»“n táº¡i.

```bash title="Checking IPs..."
ip addr
```

### Kiá»ƒm tra SSH

_Cháº¡y cÃ¢u lá»‡nh sau Ä‘á»ƒ xem tráº¡ng thÃ¡i SSH._

```bash title="Checking SSH status..."
sudo systemctl status ssh
```

![ssh](../../../../assets/linux/ssh_status.png)

_Trong trÆ°á»ng há»£p náº¿u SSH khÃ´ng tá»“n táº¡i trÃªn mÃ¡y áº£o, cháº¡y liÃªn tiáº¿p cÃ¡c cÃ¢u lá»‡nh sau Ä‘á»ƒ thÃªm vÃ o
há»‡ thá»‘ng (**Ä‘á»‘i vá»›i Ubuntu**)._

```bash title="Installing SSH..."
sudo apt install OpenSSH-server
sudo ufw allow ssh
sudo ufw reload
```

### Káº¿t ná»‘i SSH

_Äá»‘i vá»›i há»‡ Ä‘iá»u hÃ nh Windows, Ä‘á»ƒ sá»­ dá»¥ng SSH chÃºng ta cÃ³ hai cÃ¡ch, má»™t lÃ  **káº¿t ná»‘i qua dÃ²ng 
lá»‡nh**, cÃ¡ch cÃ²n láº¡i lÃ  sá»­ dá»¥ng **Putty**._

#### Putty

_CÃ i Ä‘áº·t Putty vÃ´ cÃ¹ng Ä‘Æ¡n giáº£n báº±ng hÆ°á»›ng dáº«n **[nÃ y](https://www.cuit.columbia.edu/putty)**._ 

![putty_config](../../../../assets/linux/putty_config.png)

_Sau Ä‘Ã³, báº¥m **Má»Ÿ (Open)**. ChÃºng ta sáº½ tháº¥y má»™t cáº£nh bÃ¡o - Chá»n **CÃ³ (Yes)** Ä‘á»ƒ tiáº¿p tá»¥c, 
vÃ¬ Ä‘Ã¢y lÃ  há»‡ thá»‘ng cá»§a chÃºng ta._

![putty_alert](../../../../assets/linux/putty_alert.png)

_Nháº­p tÃªn Ä‘Äƒng nháº­p vÃ  máº­t kháº©u vÃ o Ä‘á»ƒ káº¿t ná»‘i. **HoÃ n táº¥t**._

#### Káº¿t ná»‘i qua dÃ²ng lá»‡nh

_Má»™t cÃ¡ch káº¿t ná»‘i an toÃ n hÆ¡n Ä‘Ã³ lÃ  sá»­ dá»¥ng mÃ£ khÃ³a, bá»Ÿi láº½ trong trÆ°á»ng há»£p náº¿u **lá»™ tÃªn Ä‘Äƒng nháº­p
hoáº·c máº­t kháº©u (hoáº·c cáº£ hai)** thÃ¬ tin táº·c cÃ³ thá»ƒ chiáº¿m quyá»n kiá»ƒm soÃ¡t mÃ¡y chá»§ ngay láº­p tá»©c._

_MÃ£ khÃ³a Ä‘Æ°á»£c cáº¥p qua dÃ²ng lá»‡nh lÃ  má»™t **cáº·p khÃ³a (khÃ³a cÃ´ng - tÆ°/public - private)** Ä‘á»ƒ xÃ¡c thá»±c hai
chiá»u. Viá»‡c táº¡o mÃ£ khÃ³a vÃ´ cÃ¹ng Ä‘Æ¡n giáº£n báº±ng nhá»¯ng bÆ°á»›c sau Ä‘Ã¢y._

<Steps>
1. _**CÃ i Ä‘áº·t SSH trÃªn mÃ¡y khÃ¡ch**. Báº¡n cÃ³ thá»ƒ tra Google á»Ÿ Ä‘Ã¢y._
2. _Cháº¡y cÃ¢u lá»‡nh sau Ä‘á»ƒ táº¡o cáº·p khÃ³a. Náº¿u báº¡n muá»‘n tÃ¬m hiá»ƒu thÃªm vá» mÃ£ hÃ³a, truy cáº­p vÃ o 
[Ä‘Ã¢y](https://en.wikipedia.org/wiki/EdDSA#Ed25519). Cáº·p khÃ³a sáº½ lÆ°u trong má»™t thÆ° má»¥c nÃ o
Ä‘Ã³ cÃ³ Ä‘uÃ´i ```.ssh/```, vÃ­ dá»¥ nhÆ° ```C:\Users\admin\.ssh```._

   ```bash title="Creating SSH key pairs..."
   ssh-keygen -t ed25519
   ``` 
3. _Sao chÃ©p mÃ£ khÃ³a vÃ o mÃ¡y chá»§, sá»­ dá»¥ng cÃ¢u lá»‡nh sau._

   ```bash title="Copying SSH key pairs..."
   ssh-copy-id [username]@[ip]
   ```

4. _Káº¿t ná»‘i trá»Ÿ láº¡i báº±ng cÃ¢u lá»‡nh sau._

   ```bash title="Connecting via SSH..."
   ssh [username]@[ip]
   ```

5. _(**TÃ¹y chá»n**) TÄƒng báº£o máº­t cho SSH báº±ng cÃ¡ch chá»‰ sá»­ dá»¥ng passphrase hoáº·c cháº·n sá»­ dá»¥ng máº­t
kháº©u Ä‘á»ƒ Ä‘Äƒng nháº­p. **TrÃªn mÃ¡y áº£o**, cháº¡y cÃ¢u lá»‡nh sau._

   ```bash title="Removing SSH password authentication method..."
   sudo nano /etc/ssh/sshd_config
   ```

6. _(**TÃ¹y chá»n**) XÃ³a chÃº thÃ­ch (dáº¥u ```#```) á»Ÿ dÃ²ng ```PasswordAuthentication yes```, rá»“i Ä‘iá»u 
chá»‰nh vá» ```no``` vÃ  lÆ°u cáº¥u hÃ¬nh. Cháº¡y láº¡i dá»‹ch vá»¥ SSH báº±ng cÃ¢u lá»‡nh sau._

   ```bash title="Removing SSH password authentication method..."
   sudo systemctl reload sshd
   ```

</Steps>

## Giá»›i thiá»‡u vá» mÃ¡y chá»§ Web

_Thá»±c ra cÃ³ ráº¥t nhiá»u cÃ¡ch Ä‘á»ƒ nÃ³i vá» mÃ¡y chá»§ Web, nhÆ°ng trong pháº¡m trÃ¹ cá»§a bÃ i viáº¿t nÃ y, ta sáº½ Ä‘Ã¡
sang mÃ¡y chá»§ Web vá»›i cÃ¡c cÃ´ng nghá»‡ thuá»™c dáº¡ng **LAMP (Linux, Apache, MySQL, PHP)**._

_á» báº£n gá»‘c, chÃºng ta há»c cÃ¡ch dá»±ng mÃ¡y chá»§ Web báº±ng cÃ¡c cÃ¢u lá»‡nh khÃ¡c nhau. NhÆ°ng vá»›i viá»‡c cÃ´ng nghá»‡
phÃ¡t triá»ƒn, viá»‡c nÃ y xem chá»«ng khÃ´ng cÃ²n trá»Ÿ nÃªn phÃ¹ há»£p ná»¯a. Äá»ƒ Ä‘áº©y nhanh tá»‘c Ä‘á»™ váº­n hÃ nh, ta sáº½ 
tiáº¿n hÃ nh cÃ i Ä‘áº·t má»™t há»‡ thá»‘ng cháº¡y **WordPress**, nhÆ°ng sá»­ dá»¥ng **Docker** cho quÃ¡ trÃ¬nh cháº¡y. Báº¡n 
cÃ³ thá»ƒ táº£i Docker táº¡i **[Ä‘Ã¢y](https://docker.com/)**, sau Ä‘Ã³ cÃ i Ä‘áº·t **Docker Compose** Ä‘á»ƒ cháº¡y cá»¥m 
container nÃ y. ChÃºng ta sáº½ tÃ¬m hiá»ƒu Docker á»Ÿ dá»‹p khÃ¡c._

_Sau Ä‘Ã³, báº¡n hÃ£y truy cáº­p vÃ o 
**[Ä‘Ã¢y](https://github.com/anthony2708/cs101_devops/tree/main/src/assets/linux/code/wordpress)** Ä‘á»ƒ 
xem táº¥t cáº£ nhá»¯ng táº­p tin sáº½ Ä‘Æ°á»£c sá»­ dá»¥ng cho viá»‡c dá»±ng WordPress._

_Ngay sau Ä‘Ã³, cháº¡y cÃ¢u lá»‡nh sau Ä‘á»ƒ báº¯t Ä‘áº§u._

```bash title="Running the Compose..."
docker-compose up -d
docker-compose ps
```

_Truy cáº­p vÃ  kiá»ƒm tra há»‡ thá»‘ng Ä‘á»ƒ xem cÃ³ báº¥t ká»³ sá»± cá»‘ nÃ o hay khÃ´ng, náº¿u khÃ´ng, truy cáº­p vÃ o há»‡ thá»‘ng
qua Ä‘á»‹a chá»‰ IP Ä‘á»ƒ tiáº¿n hÃ nh cÃ i Ä‘áº·t WordPress._

![wp](../../../../assets/linux/wp_language_select.png)

**_HoÃ n thÃ nh ngÃ y thá»© 18 cá»§a hÃ nh trÃ¬nh. Xin chÃ¢n thÃ nh cáº£m Æ¡n._**


## TÃ i liá»‡u tham kháº£o ğŸ“š

_Má»i má»i ngÆ°á»i chuyá»ƒn sang trang nÃ y Ä‘á»ƒ theo dÃµi táº¥t cáº£ tÃ i liá»‡u liÃªn quan trong giai Ä‘oáº¡n 3, 
Ä‘á»ƒ giÃºp báº£n thÃ¢n cÃ³ Ä‘Æ°á»£c nhá»¯ng tÃ i liá»‡u há»¯u Ã­ch vá» Linux trong lÃ m viá»‡c vá»›i DevOps._

<LinkCard
  title="NgÃ y 18 - Tham kháº£o"
  href="../../../reference/linux/day14"
/>

_Háº¹n gáº·p má»i ngÆ°á»i á»Ÿ nhá»¯ng ngÃ y tiáº¿p theo._ ğŸš€